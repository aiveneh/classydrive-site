{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Documents/projects/classydrive/classydrive-web/site/src/partials/enquiryModal.tsx\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { ErrorLabel, Banner } from 'storejars-react-toolkit/dist/components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { windowExists, errorParser } from 'storejars-react-toolkit';\nimport { formatPrice } from '../helpers';\nimport { metaSelector, action } from '../redux/entities/enquiries';\nexport default function EnquiryModal(props) {\n  const {\n    image,\n    name,\n    price,\n    description,\n    condition,\n    mileage,\n    type,\n    itemId\n  } = props;\n  const ioRequest = useSelector(state => metaSelector(state).create);\n  const dispatch = useDispatch();\n  const {\n    success,\n    error,\n    loading\n  } = ioRequest;\n\n  const reset = () => dispatch(action.createAction({}).reset);\n\n  if (success) {\n    setTimeout(() => {\n      // TODO, this shoudl be a cline socde redirect\n      windowExists.location.reload();\n    }, 3000);\n  }\n\n  const schema = Yup.object({\n    message: Yup.string().required(),\n    email: Yup.string().email().required(),\n    phone: Yup.string().required(),\n    name: Yup.string().required()\n  });\n  return __jsx(\"div\", {\n    id: \"enquiryModal\",\n    className: \"modal border-transparent fade container-sm\",\n    tabIndex: -1,\n    \"data-replace\": \"true\",\n    \"aria-hidden\": \"true\",\n    style: {\n      display: 'none',\n      marginTop: '0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, __jsx(Formik, {\n    initialValues: {\n      name: '',\n      phone: '',\n      email: '',\n      message: '',\n      type,\n      itemId\n    },\n    validationSchema: schema,\n    onSubmit: values => {\n      dispatch(action.createAction({}).reset);\n      dispatch(action.createAction(values).loading);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, props => {\n    const {\n      handleChange,\n      values,\n      handleSubmit,\n      errors,\n      touched\n    } = props;\n    return __jsx(\"form\", {\n      className: \"modal-container\",\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, error && __jsx(Banner.Error, {\n      message: error,\n      reset: reset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }), success && __jsx(Banner.Success, {\n      message: \"Enquiry sent successfully\",\n      reset: reset,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 27\n      }\n    }), __jsx(\"div\", {\n      className: \"modal-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, __jsx(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, \"\\xD7\")), __jsx(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      className: \"car-item-sm for-enquiry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, __jsx(\"a\", {\n      href: \"#\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, __jsx(\"div\", {\n      className: \"image-bg\",\n      style: {\n        backgroundImage: `url(${image})`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }\n    }), __jsx(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, __jsx(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 23\n      }\n    }, \" \", name), __jsx(\"div\", {\n      className: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 23\n      }\n    }, __jsx(\"ul\", {\n      className: \"car-meta clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, condition && __jsx(\"li\", {\n      \"data-toggle\": \"tooltip\",\n      \"data-placement\": \"top\",\n      title: \"Car condition\",\n      \"data-original-title\": \"yeas: 2013\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      }\n    }, __jsx(\"i\", {\n      className: \"fa fa-car\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 31\n      }\n    }), \"Condition - \", condition), mileage && __jsx(\"li\", {\n      \"data-toggle\": \"tooltip\",\n      \"data-placement\": \"top\",\n      title: \"Car Mileage\",\n      \"data-original-title\": \"mile: 120000 KM\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, __jsx(\"i\", {\n      className: \"fa fa-tachometer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 31\n      }\n    }), \"Mileage - \", mileage)), __jsx(\"p\", {\n      className: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }, formatPrice(price)))))), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, description), __jsx(\"div\", {\n      className: \"form-horizontal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"form-group row gap-15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"inputEmail1\",\n      className: \"col-sm-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 21\n      }\n    }, \"Name:\"), __jsx(\"div\", {\n      className: \"col-sm-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, __jsx(\"input\", {\n      type: \"text\",\n      className: \"form-control mb-0\",\n      name: \"name\",\n      onChange: handleChange,\n      value: values.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 23\n      }\n    }), __jsx(ErrorLabel, {\n      message: errorParser(errors, touched, 'name'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 23\n      }\n    }))), __jsx(\"div\", {\n      className: \"form-group row gap-15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"inputEmail2\",\n      className: \"col-sm-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, \"Phone Number:\"), __jsx(\"div\", {\n      className: \"col-sm-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, __jsx(\"input\", {\n      className: \"form-control mb-0\",\n      name: \"phone\",\n      onChange: handleChange,\n      value: values.phone,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }), __jsx(ErrorLabel, {\n      message: errorParser(errors, touched, 'phone'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 23\n      }\n    }))), __jsx(\"div\", {\n      className: \"form-group row gap-15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"inputEmail3\",\n      className: \"col-sm-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, \"Email Address:\"), __jsx(\"div\", {\n      className: \"col-sm-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, __jsx(\"input\", {\n      type: \"email\",\n      className: \"form-control mb-0\",\n      name: \"email\",\n      onChange: handleChange,\n      value: values.email,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }), __jsx(ErrorLabel, {\n      message: errorParser(errors, touched, 'email'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 23\n      }\n    }))), __jsx(\"div\", {\n      className: \"form-group row gap-15\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 19\n      }\n    }, __jsx(\"label\", {\n      htmlFor: \"inputEmail3\",\n      className: \"col-sm-4 control-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 21\n      }\n    }, \"Message:\"), __jsx(\"div\", {\n      className: \"col-sm-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }, __jsx(\"textarea\", {\n      className: \"form-control mb-0\",\n      rows: 5,\n      name: \"message\",\n      onChange: handleChange,\n      value: values.message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 23\n      }\n    }), __jsx(ErrorLabel, {\n      message: errorParser(errors, touched, 'message'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 23\n      }\n    }))))), __jsx(\"div\", {\n      className: \"modal-footer text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, __jsx(\"button\", {\n      type: \"submit\",\n      disabled: loading,\n      className: \"btn btn-sm btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, loading ? 'Submitting...' : 'Submit')));\n  }));\n}","map":{"version":3,"sources":["/Users/macbook/Documents/projects/classydrive/classydrive-web/site/src/partials/enquiryModal.tsx"],"names":["React","Formik","Yup","ErrorLabel","Banner","useSelector","useDispatch","windowExists","errorParser","formatPrice","metaSelector","action","EnquiryModal","props","image","name","price","description","condition","mileage","type","itemId","ioRequest","state","create","dispatch","success","error","loading","reset","createAction","setTimeout","location","reload","schema","object","message","string","required","email","phone","display","marginTop","values","handleChange","handleSubmit","errors","touched","backgroundImage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { ErrorLabel, Banner } from 'storejars-react-toolkit/dist/components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { windowExists, errorParser } from 'storejars-react-toolkit';\n\nimport { formatPrice } from '../helpers';\nimport { metaSelector, action } from '../redux/entities/enquiries';\n\ninterface IProps {\n  image: string;\n  name: string;\n  price: string;\n  description: string;\n  condition?: string;\n  mileage?: string;\n  type: string;\n  itemId: string;\n}\n\nexport default function EnquiryModal(props: IProps) {\n  const { image, name, price, description, condition, mileage, type, itemId } = props;\n\n  const ioRequest = useSelector((state) => metaSelector(state).create);\n  const dispatch = useDispatch();\n\n  const { success, error, loading } = ioRequest;\n\n  const reset = () => dispatch(action.createAction({}).reset);\n\n  if (success) {\n    setTimeout(() => {\n      // TODO, this shoudl be a cline socde redirect\n      windowExists.location.reload();\n    }, 3000);\n  }\n\n  const schema = Yup.object({\n    message: Yup.string().required(),\n    email: Yup.string().email().required(),\n    phone: Yup.string().required(),\n    name: Yup.string().required(),\n  });\n\n  return (\n    <div\n      id=\"enquiryModal\"\n      className=\"modal border-transparent fade container-sm\"\n      tabIndex={-1}\n      data-replace=\"true\"\n      aria-hidden=\"true\"\n      style={{ display: 'none', marginTop: '0px' }}\n    >\n      <Formik\n        initialValues={{ name: '', phone: '', email: '', message: '', type, itemId }}\n        validationSchema={schema}\n        onSubmit={(values) => {\n          dispatch(action.createAction({}).reset);\n          dispatch(action.createAction(values).loading);\n        }}\n      >\n        {(props) => {\n          const { handleChange, values, handleSubmit, errors, touched } = props;\n\n          return (\n            <form className=\"modal-container\" onSubmit={handleSubmit}>\n              {error && <Banner.Error message={error} reset={reset} />}\n              {success && <Banner.Success message=\"Enquiry sent successfully\" reset={reset} />}\n\n              <div className=\"modal-header\">\n                <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n                  ×\n                </button>\n              </div>\n\n              <div className=\"modal-body\">\n                <div className=\"car-item-sm for-enquiry\">\n                  <a href=\"#\">\n                    <div className=\"image-bg\" style={{ backgroundImage: `url(${image})` }} />\n\n                    <div className=\"content\">\n                      <h5> {name}</h5>\n\n                      <div className=\"bottom\">\n                        <ul className=\"car-meta clearfix\">\n                          {condition && (\n                            <li\n                              data-toggle=\"tooltip\"\n                              data-placement=\"top\"\n                              title=\"Car condition\"\n                              data-original-title=\"yeas: 2013\"\n                            >\n                              <i className=\"fa fa-car\" />\n                              Condition - {condition}\n                            </li>\n                          )}\n\n                          {mileage && (\n                            <li\n                              data-toggle=\"tooltip\"\n                              data-placement=\"top\"\n                              title=\"Car Mileage\"\n                              data-original-title=\"mile: 120000 KM\"\n                            >\n                              <i className=\"fa fa-tachometer\" />\n                              Mileage - {mileage}\n                            </li>\n                          )}\n                        </ul>\n\n                        <p className=\"price\">{formatPrice(price)}</p>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n\n                <p>{description}</p>\n\n                <div className=\"form-horizontal\">\n                  <div className=\"form-group row gap-15\">\n                    <label htmlFor=\"inputEmail1\" className=\"col-sm-4 control-label\">\n                      Name:\n                    </label>\n\n                    <div className=\"col-sm-8\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control mb-0\"\n                        name=\"name\"\n                        onChange={handleChange}\n                        value={values.name}\n                      />\n                      <ErrorLabel message={errorParser(errors, touched, 'name')} />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group row gap-15\">\n                    <label htmlFor=\"inputEmail2\" className=\"col-sm-4 control-label\">\n                      Phone Number:\n                    </label>\n\n                    <div className=\"col-sm-8\">\n                      <input className=\"form-control mb-0\" name=\"phone\" onChange={handleChange} value={values.phone} />\n                      <ErrorLabel message={errorParser(errors, touched, 'phone')} />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group row gap-15\">\n                    <label htmlFor=\"inputEmail3\" className=\"col-sm-4 control-label\">\n                      Email Address:\n                    </label>\n                    <div className=\"col-sm-8\">\n                      <input\n                        type=\"email\"\n                        className=\"form-control mb-0\"\n                        name=\"email\"\n                        onChange={handleChange}\n                        value={values.email}\n                      />\n                      <ErrorLabel message={errorParser(errors, touched, 'email')} />\n                    </div>\n                  </div>\n\n                  <div className=\"form-group row gap-15\">\n                    <label htmlFor=\"inputEmail3\" className=\"col-sm-4 control-label\">\n                      Message:\n                    </label>\n\n                    <div className=\"col-sm-8\">\n                      <textarea\n                        className=\"form-control mb-0\"\n                        rows={5}\n                        name=\"message\"\n                        onChange={handleChange}\n                        value={values.message}\n                      />\n                      <ErrorLabel message={errorParser(errors, touched, 'message')} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"modal-footer text-left\">\n                <button type=\"submit\" disabled={loading} className=\"btn btn-sm btn-primary\">\n                  {loading ? 'Submitting...' : 'Submit'}\n                </button>\n              </div>\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}