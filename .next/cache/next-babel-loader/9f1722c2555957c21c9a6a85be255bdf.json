{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { handleActions } from 'redux-actions';\nimport { createSelector } from 'reselect';\nimport { produce } from 'immer';\nimport { combineEpics } from 'redux-observable';\nimport { ofType, catchError, switchMap, of } from 'storejars-react-toolkit/dist/operators';\nimport { Actions, entitiesMeta, entities, responder, metas } from 'storejars-react-toolkit';\nimport { api } from '../helpers';\nimport namespaces from '../namespaces';\nexport var action = new Actions(namespaces.CONSTANTS);\nexport var selector = createSelector(entities, function (state) {\n  return state.constants;\n});\nexport var metaSelector = createSelector(entitiesMeta, function (state) {\n  return state.constants;\n});\nexport var reducer = handleActions(_defineProperty({}, action.read.success, function (state, action$) {\n  return produce(state, function (draft) {\n    draft = action$.payload;\n    return draft;\n  });\n}), {\n  TransmissionTypes: [],\n  ConditionTypes: [],\n  VehicleTypes: [],\n  VehicleMakeTypes: [],\n  FuelTypes: []\n});\nexport var metaReducer = metas(action);\n\nfunction readEpic(action$) {\n  return action$.pipe(ofType(action.read.loading), switchMap(function () {\n    return api.get$('/constants').pipe(switchMap(function (_ref) {\n      var response = _ref.response;\n      return of(action.readAction(response.data).success);\n    }), catchError(function (_ref2) {\n      var response = _ref2.response;\n      return of(action.readAction(responder(response)).error);\n    }));\n  }));\n}\n\nexport var epic = combineEpics(readEpic);","map":{"version":3,"sources":["/Users/macbook/Documents/projects/classydrive/classydrive-web/site/src/redux/entities/constants.ts"],"names":["handleActions","createSelector","produce","combineEpics","ofType","catchError","switchMap","of","Actions","entitiesMeta","entities","responder","metas","api","namespaces","action","CONSTANTS","selector","state","constants","metaSelector","reducer","read","success","action$","draft","payload","TransmissionTypes","ConditionTypes","VehicleTypes","VehicleMakeTypes","FuelTypes","metaReducer","readEpic","pipe","loading","get$","response","readAction","data","error","epic"],"mappings":";AAAA,SAASA,aAAT,QAA8B,eAA9B;AACA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,EAAwCC,EAAxC,QAAkD,wCAAlD;AACA,SAASC,OAAT,EAAkBC,YAAlB,EAAgCC,QAAhC,EAA0CC,SAA1C,EAAqDC,KAArD,QAAkE,yBAAlE;AAEA,SAASC,GAAT,QAAoB,YAApB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AAEA,OAAO,IAAMC,MAAM,GAAG,IAAIP,OAAJ,CAAYM,UAAU,CAACE,SAAvB,CAAf;AAEP,OAAO,IAAMC,QAAQ,GAAGhB,cAAc,CAACS,QAAD,EAAW,UAACQ,KAAD;AAAA,SAAWA,KAAK,CAACC,SAAjB;AAAA,CAAX,CAA/B;AACP,OAAO,IAAMC,YAAY,GAAGnB,cAAc,CAACQ,YAAD,EAAe,UAACS,KAAD;AAAA,SAAWA,KAAK,CAACC,SAAjB;AAAA,CAAf,CAAnC;AAEP,OAAO,IAAME,OAAO,GAAGrB,aAAa,qBAE/Be,MAAM,CAACO,IAAP,CAAYC,OAFmB,EAET,UAACL,KAAD,EAAQM,OAAR;AAAA,SACrBtB,OAAO,CAACgB,KAAD,EAAQ,UAACO,KAAD,EAAW;AACxBA,IAAAA,KAAK,GAAGD,OAAO,CAACE,OAAhB;AACA,WAAOD,KAAP;AACD,GAHM,CADc;AAAA,CAFS,GAQlC;AACEE,EAAAA,iBAAiB,EAAE,EADrB;AAEEC,EAAAA,cAAc,EAAE,EAFlB;AAGEC,EAAAA,YAAY,EAAE,EAHhB;AAIEC,EAAAA,gBAAgB,EAAE,EAJpB;AAKEC,EAAAA,SAAS,EAAE;AALb,CARkC,CAA7B;AAiBP,OAAO,IAAMC,WAAW,GAAGpB,KAAK,CAACG,MAAD,CAAzB;;AAEP,SAASkB,QAAT,CAAkBT,OAAlB,EAA2B;AACzB,SAAOA,OAAO,CAACU,IAAR,CACL9B,MAAM,CAACW,MAAM,CAACO,IAAP,CAAYa,OAAb,CADD,EAEL7B,SAAS,CAAC,YAAM;AACd,WAAOO,GAAG,CAACuB,IAAJ,CAAS,YAAT,EAAuBF,IAAvB,CACL5B,SAAS,CAAC,gBAAkB;AAAA,UAAf+B,QAAe,QAAfA,QAAe;AAC1B,aAAO9B,EAAE,CAACQ,MAAM,CAACuB,UAAP,CAAkBD,QAAQ,CAACE,IAA3B,EAAiChB,OAAlC,CAAT;AACD,KAFQ,CADJ,EAILlB,UAAU,CAAC;AAAA,UAAGgC,QAAH,SAAGA,QAAH;AAAA,aAAkB9B,EAAE,CAACQ,MAAM,CAACuB,UAAP,CAAkB3B,SAAS,CAAC0B,QAAD,CAA3B,EAAuCG,KAAxC,CAApB;AAAA,KAAD,CAJL,CAAP;AAMD,GAPQ,CAFJ,CAAP;AAWD;;AAED,OAAO,IAAMC,IAAI,GAAGtC,YAAY,CAAC8B,QAAD,CAAzB","sourcesContent":["import { handleActions } from 'redux-actions';\nimport { createSelector } from 'reselect';\nimport { produce } from 'immer';\nimport { combineEpics } from 'redux-observable';\nimport { ofType, catchError, switchMap, of } from 'storejars-react-toolkit/dist/operators';\nimport { Actions, entitiesMeta, entities, responder, metas } from 'storejars-react-toolkit';\n\nimport { api } from '../helpers';\nimport namespaces from '../namespaces';\n\nexport const action = new Actions(namespaces.CONSTANTS);\n\nexport const selector = createSelector(entities, (state) => state.constants);\nexport const metaSelector = createSelector(entitiesMeta, (state) => state.constants);\n\nexport const reducer = handleActions(\n  {\n    [action.read.success]: (state, action$) =>\n      produce(state, (draft) => {\n        draft = action$.payload;\n        return draft;\n      }),\n  },\n  {\n    TransmissionTypes: [],\n    ConditionTypes: [],\n    VehicleTypes: [],\n    VehicleMakeTypes: [],\n    FuelTypes: [],\n  },\n);\n\nexport const metaReducer = metas(action);\n\nfunction readEpic(action$) {\n  return action$.pipe(\n    ofType(action.read.loading),\n    switchMap(() => {\n      return api.get$('/constants').pipe(\n        switchMap(({ response }) => {\n          return of(action.readAction(response.data).success);\n        }),\n        catchError(({ response }) => of(action.readAction(responder(response)).error)),\n      );\n    }),\n  );\n}\n\nexport const epic = combineEpics(readEpic);\n"]},"metadata":{},"sourceType":"module"}